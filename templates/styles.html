<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>World of Tanks styles</title>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css">
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/css/bootstrap-select.css"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/js/bootstrap-select.min.js"></script>
    <script>
        let included = true;

        function toggleInclude() {
            $('input:checkbox').prop('checked', included);
            included = !included;
        }

        $('select').selectpicker();
    </script>
</head>
<body class="table-dark">
<div class="d-flex justify-content-center">
    <form method="post">
        <table class="table table-striped table-responsive table-dark">
            <thead>
            <tr>
                <td>
                    <button type="button" class="btn btn-default" onclick="toggleInclude()">Include (toggle all)
                    </button>
                </td>
                <td>Vehicle</td>
                <td>Style</td>
                <td data-toggle="tooltip" data-placement="botton"
                    title="Select the areas where custom camouflages will be shown (if left unselected, the camouflage will still be active, but not shown on the model. Note that in some cases, the style texture overlays the camouflage and so it might not be visible either way">
                    Displayed camouflage
                </td>
                <td data-toggle="tooltip" data-placement="botton"
                    title="Select the areas where custom paint will be shown (if left unselected, the paint will still be active, but not shown on the model. Note that in some cases, the style texture overlays the paint and so it might not be visible either way">
                    Displayed paint
                </td>
            </tr>
            </thead>
            <tbody>
            {% for vehicle in vehicles %}
                <tr>
                    <td>
                        <input id="{{ vehicle.name }}" name="include_{{ vehicle.name }}" type="checkbox">
                    </td>
                    <td>
                        <h4>{{ vehicle.display_name }}</h4>
                    </td>
                    <td>
                        <select id="{{ vehicle.name }}_style" name="style_{{ vehicle.name }}">
                            {% for style, display_name in vehicle.styles %}
                                <option value="{{ style }}">{{ display_name }}</option>
                            {% endfor %}
                        </select>
                    </td>
                    <td>
                        <select id="{{ vehicle.name }}_camo" name="camo_{{ vehicle.name }}" class="selectpicker"
                                multiple>
                            {% for opt in vehicle.camo_areas %}
                                <option value="{{ opt }}">{{ opt }}</option>
                            {% endfor %}
                        </select>
                    </td>
                    <td>
                        <select id="{{ vehicle.name }}_paint" name="paint_{{ vehicle.name }}" class="selectpicker"
                                multiple>
                            {% for opt in vehicle.paint_areas %}
                                <option value="{{ opt }}">{{ opt }}</option>
                            {% endfor %}
                        </select>
                    </td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
        <div class="row">
            <div class="col-md-12 text-center">
                <button type="submit" class="btn btn-lg btn-success">Create a modpack</button>
            </div>
        </div>
    </form>
</div>
<br>
<footer class="footer">
    <div class="container" style="text-align: center">
        <span class="text-muted">
            Source code available <a href="https://github.com/matuszelenak/WoT-style-unlocker">here</a>.
            Credit to <a href="https://github.com/StranikS-Scan/WorldOfTanks-Decompiled">StranikS-Scan</a> for providing
            decompiled scripts
        </span>
    </div>
</footer>
</body>
</html>
